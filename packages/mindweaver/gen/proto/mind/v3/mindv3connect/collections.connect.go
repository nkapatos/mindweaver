// Copyright 2025 Mindweaver
// SPDX-License-Identifier: Apache-2.0
// Collections V3 API - Resource-oriented design following Google AIP standards
// Manages hierarchical note organization and folder structure

// Code generated by protoc-gen-connect-go. DO NOT EDIT.
//
// Source: v3/collections.proto

package mindv3connect

import (
	connect "connectrpc.com/connect"
	context "context"
	errors "errors"
	v3 "github.com/nkapatos/mindweaver/packages/mindweaver/gen/proto/mind/v3"
	emptypb "google.golang.org/protobuf/types/known/emptypb"
	http "net/http"
	strings "strings"
)

// This is a compile-time assertion to ensure that this generated file and the connect package are
// compatible. If you get a compiler error that this constant is not defined, this code was
// generated with a version of connect newer than the one compiled into your binary. You can fix the
// problem by either regenerating this code with an older version of connect or updating the connect
// version compiled into your binary.
const _ = connect.IsAtLeastVersion1_13_0

const (
	// CollectionsServiceName is the fully-qualified name of the CollectionsService service.
	CollectionsServiceName = "mind.v3.CollectionsService"
)

// These constants are the fully-qualified names of the RPCs defined in this package. They're
// exposed at runtime as Spec.Procedure and as the final two segments of the HTTP route.
//
// Note that these are different from the fully-qualified method names used by
// google.golang.org/protobuf/reflect/protoreflect. To convert from these constants to
// reflection-formatted method names, remove the leading slash and convert the remaining slash to a
// period.
const (
	// CollectionsServiceCreateCollectionProcedure is the fully-qualified name of the
	// CollectionsService's CreateCollection RPC.
	CollectionsServiceCreateCollectionProcedure = "/mind.v3.CollectionsService/CreateCollection"
	// CollectionsServiceGetCollectionProcedure is the fully-qualified name of the CollectionsService's
	// GetCollection RPC.
	CollectionsServiceGetCollectionProcedure = "/mind.v3.CollectionsService/GetCollection"
	// CollectionsServiceUpdateCollectionProcedure is the fully-qualified name of the
	// CollectionsService's UpdateCollection RPC.
	CollectionsServiceUpdateCollectionProcedure = "/mind.v3.CollectionsService/UpdateCollection"
	// CollectionsServiceDeleteCollectionProcedure is the fully-qualified name of the
	// CollectionsService's DeleteCollection RPC.
	CollectionsServiceDeleteCollectionProcedure = "/mind.v3.CollectionsService/DeleteCollection"
	// CollectionsServiceListCollectionsProcedure is the fully-qualified name of the
	// CollectionsService's ListCollections RPC.
	CollectionsServiceListCollectionsProcedure = "/mind.v3.CollectionsService/ListCollections"
	// CollectionsServiceListCollectionChildrenProcedure is the fully-qualified name of the
	// CollectionsService's ListCollectionChildren RPC.
	CollectionsServiceListCollectionChildrenProcedure = "/mind.v3.CollectionsService/ListCollectionChildren"
	// CollectionsServiceGetCollectionTreeProcedure is the fully-qualified name of the
	// CollectionsService's GetCollectionTree RPC.
	CollectionsServiceGetCollectionTreeProcedure = "/mind.v3.CollectionsService/GetCollectionTree"
)

// CollectionsServiceClient is a client for the mind.v3.CollectionsService service.
type CollectionsServiceClient interface {
	// Create a new collection (AIP-133)
	CreateCollection(context.Context, *connect.Request[v3.CreateCollectionRequest]) (*connect.Response[v3.Collection], error)
	// Get a collection by ID (AIP-131)
	GetCollection(context.Context, *connect.Request[v3.GetCollectionRequest]) (*connect.Response[v3.Collection], error)
	// Update a collection (AIP-134)
	UpdateCollection(context.Context, *connect.Request[v3.UpdateCollectionRequest]) (*connect.Response[v3.Collection], error)
	// Delete a collection (AIP-135)
	DeleteCollection(context.Context, *connect.Request[v3.DeleteCollectionRequest]) (*connect.Response[emptypb.Empty], error)
	// List collections (AIP-132)
	// Can filter by parent_id to get children
	ListCollections(context.Context, *connect.Request[v3.ListCollectionsRequest]) (*connect.Response[v3.ListCollectionsResponse], error)
	// List direct children of a collection
	ListCollectionChildren(context.Context, *connect.Request[v3.ListCollectionChildrenRequest]) (*connect.Response[v3.ListCollectionsResponse], error)
	// Get entire collection tree (subtree)
	GetCollectionTree(context.Context, *connect.Request[v3.GetCollectionTreeRequest]) (*connect.Response[v3.GetCollectionTreeResponse], error)
}

// NewCollectionsServiceClient constructs a client for the mind.v3.CollectionsService service. By
// default, it uses the Connect protocol with the binary Protobuf Codec, asks for gzipped responses,
// and sends uncompressed requests. To use the gRPC or gRPC-Web protocols, supply the
// connect.WithGRPC() or connect.WithGRPCWeb() options.
//
// The URL supplied here should be the base URL for the Connect or gRPC server (for example,
// http://api.acme.com or https://acme.com/grpc).
func NewCollectionsServiceClient(httpClient connect.HTTPClient, baseURL string, opts ...connect.ClientOption) CollectionsServiceClient {
	baseURL = strings.TrimRight(baseURL, "/")
	collectionsServiceMethods := v3.File_v3_collections_proto.Services().ByName("CollectionsService").Methods()
	return &collectionsServiceClient{
		createCollection: connect.NewClient[v3.CreateCollectionRequest, v3.Collection](
			httpClient,
			baseURL+CollectionsServiceCreateCollectionProcedure,
			connect.WithSchema(collectionsServiceMethods.ByName("CreateCollection")),
			connect.WithClientOptions(opts...),
		),
		getCollection: connect.NewClient[v3.GetCollectionRequest, v3.Collection](
			httpClient,
			baseURL+CollectionsServiceGetCollectionProcedure,
			connect.WithSchema(collectionsServiceMethods.ByName("GetCollection")),
			connect.WithClientOptions(opts...),
		),
		updateCollection: connect.NewClient[v3.UpdateCollectionRequest, v3.Collection](
			httpClient,
			baseURL+CollectionsServiceUpdateCollectionProcedure,
			connect.WithSchema(collectionsServiceMethods.ByName("UpdateCollection")),
			connect.WithClientOptions(opts...),
		),
		deleteCollection: connect.NewClient[v3.DeleteCollectionRequest, emptypb.Empty](
			httpClient,
			baseURL+CollectionsServiceDeleteCollectionProcedure,
			connect.WithSchema(collectionsServiceMethods.ByName("DeleteCollection")),
			connect.WithClientOptions(opts...),
		),
		listCollections: connect.NewClient[v3.ListCollectionsRequest, v3.ListCollectionsResponse](
			httpClient,
			baseURL+CollectionsServiceListCollectionsProcedure,
			connect.WithSchema(collectionsServiceMethods.ByName("ListCollections")),
			connect.WithClientOptions(opts...),
		),
		listCollectionChildren: connect.NewClient[v3.ListCollectionChildrenRequest, v3.ListCollectionsResponse](
			httpClient,
			baseURL+CollectionsServiceListCollectionChildrenProcedure,
			connect.WithSchema(collectionsServiceMethods.ByName("ListCollectionChildren")),
			connect.WithClientOptions(opts...),
		),
		getCollectionTree: connect.NewClient[v3.GetCollectionTreeRequest, v3.GetCollectionTreeResponse](
			httpClient,
			baseURL+CollectionsServiceGetCollectionTreeProcedure,
			connect.WithSchema(collectionsServiceMethods.ByName("GetCollectionTree")),
			connect.WithClientOptions(opts...),
		),
	}
}

// collectionsServiceClient implements CollectionsServiceClient.
type collectionsServiceClient struct {
	createCollection       *connect.Client[v3.CreateCollectionRequest, v3.Collection]
	getCollection          *connect.Client[v3.GetCollectionRequest, v3.Collection]
	updateCollection       *connect.Client[v3.UpdateCollectionRequest, v3.Collection]
	deleteCollection       *connect.Client[v3.DeleteCollectionRequest, emptypb.Empty]
	listCollections        *connect.Client[v3.ListCollectionsRequest, v3.ListCollectionsResponse]
	listCollectionChildren *connect.Client[v3.ListCollectionChildrenRequest, v3.ListCollectionsResponse]
	getCollectionTree      *connect.Client[v3.GetCollectionTreeRequest, v3.GetCollectionTreeResponse]
}

// CreateCollection calls mind.v3.CollectionsService.CreateCollection.
func (c *collectionsServiceClient) CreateCollection(ctx context.Context, req *connect.Request[v3.CreateCollectionRequest]) (*connect.Response[v3.Collection], error) {
	return c.createCollection.CallUnary(ctx, req)
}

// GetCollection calls mind.v3.CollectionsService.GetCollection.
func (c *collectionsServiceClient) GetCollection(ctx context.Context, req *connect.Request[v3.GetCollectionRequest]) (*connect.Response[v3.Collection], error) {
	return c.getCollection.CallUnary(ctx, req)
}

// UpdateCollection calls mind.v3.CollectionsService.UpdateCollection.
func (c *collectionsServiceClient) UpdateCollection(ctx context.Context, req *connect.Request[v3.UpdateCollectionRequest]) (*connect.Response[v3.Collection], error) {
	return c.updateCollection.CallUnary(ctx, req)
}

// DeleteCollection calls mind.v3.CollectionsService.DeleteCollection.
func (c *collectionsServiceClient) DeleteCollection(ctx context.Context, req *connect.Request[v3.DeleteCollectionRequest]) (*connect.Response[emptypb.Empty], error) {
	return c.deleteCollection.CallUnary(ctx, req)
}

// ListCollections calls mind.v3.CollectionsService.ListCollections.
func (c *collectionsServiceClient) ListCollections(ctx context.Context, req *connect.Request[v3.ListCollectionsRequest]) (*connect.Response[v3.ListCollectionsResponse], error) {
	return c.listCollections.CallUnary(ctx, req)
}

// ListCollectionChildren calls mind.v3.CollectionsService.ListCollectionChildren.
func (c *collectionsServiceClient) ListCollectionChildren(ctx context.Context, req *connect.Request[v3.ListCollectionChildrenRequest]) (*connect.Response[v3.ListCollectionsResponse], error) {
	return c.listCollectionChildren.CallUnary(ctx, req)
}

// GetCollectionTree calls mind.v3.CollectionsService.GetCollectionTree.
func (c *collectionsServiceClient) GetCollectionTree(ctx context.Context, req *connect.Request[v3.GetCollectionTreeRequest]) (*connect.Response[v3.GetCollectionTreeResponse], error) {
	return c.getCollectionTree.CallUnary(ctx, req)
}

// CollectionsServiceHandler is an implementation of the mind.v3.CollectionsService service.
type CollectionsServiceHandler interface {
	// Create a new collection (AIP-133)
	CreateCollection(context.Context, *connect.Request[v3.CreateCollectionRequest]) (*connect.Response[v3.Collection], error)
	// Get a collection by ID (AIP-131)
	GetCollection(context.Context, *connect.Request[v3.GetCollectionRequest]) (*connect.Response[v3.Collection], error)
	// Update a collection (AIP-134)
	UpdateCollection(context.Context, *connect.Request[v3.UpdateCollectionRequest]) (*connect.Response[v3.Collection], error)
	// Delete a collection (AIP-135)
	DeleteCollection(context.Context, *connect.Request[v3.DeleteCollectionRequest]) (*connect.Response[emptypb.Empty], error)
	// List collections (AIP-132)
	// Can filter by parent_id to get children
	ListCollections(context.Context, *connect.Request[v3.ListCollectionsRequest]) (*connect.Response[v3.ListCollectionsResponse], error)
	// List direct children of a collection
	ListCollectionChildren(context.Context, *connect.Request[v3.ListCollectionChildrenRequest]) (*connect.Response[v3.ListCollectionsResponse], error)
	// Get entire collection tree (subtree)
	GetCollectionTree(context.Context, *connect.Request[v3.GetCollectionTreeRequest]) (*connect.Response[v3.GetCollectionTreeResponse], error)
}

// NewCollectionsServiceHandler builds an HTTP handler from the service implementation. It returns
// the path on which to mount the handler and the handler itself.
//
// By default, handlers support the Connect, gRPC, and gRPC-Web protocols with the binary Protobuf
// and JSON codecs. They also support gzip compression.
func NewCollectionsServiceHandler(svc CollectionsServiceHandler, opts ...connect.HandlerOption) (string, http.Handler) {
	collectionsServiceMethods := v3.File_v3_collections_proto.Services().ByName("CollectionsService").Methods()
	collectionsServiceCreateCollectionHandler := connect.NewUnaryHandler(
		CollectionsServiceCreateCollectionProcedure,
		svc.CreateCollection,
		connect.WithSchema(collectionsServiceMethods.ByName("CreateCollection")),
		connect.WithHandlerOptions(opts...),
	)
	collectionsServiceGetCollectionHandler := connect.NewUnaryHandler(
		CollectionsServiceGetCollectionProcedure,
		svc.GetCollection,
		connect.WithSchema(collectionsServiceMethods.ByName("GetCollection")),
		connect.WithHandlerOptions(opts...),
	)
	collectionsServiceUpdateCollectionHandler := connect.NewUnaryHandler(
		CollectionsServiceUpdateCollectionProcedure,
		svc.UpdateCollection,
		connect.WithSchema(collectionsServiceMethods.ByName("UpdateCollection")),
		connect.WithHandlerOptions(opts...),
	)
	collectionsServiceDeleteCollectionHandler := connect.NewUnaryHandler(
		CollectionsServiceDeleteCollectionProcedure,
		svc.DeleteCollection,
		connect.WithSchema(collectionsServiceMethods.ByName("DeleteCollection")),
		connect.WithHandlerOptions(opts...),
	)
	collectionsServiceListCollectionsHandler := connect.NewUnaryHandler(
		CollectionsServiceListCollectionsProcedure,
		svc.ListCollections,
		connect.WithSchema(collectionsServiceMethods.ByName("ListCollections")),
		connect.WithHandlerOptions(opts...),
	)
	collectionsServiceListCollectionChildrenHandler := connect.NewUnaryHandler(
		CollectionsServiceListCollectionChildrenProcedure,
		svc.ListCollectionChildren,
		connect.WithSchema(collectionsServiceMethods.ByName("ListCollectionChildren")),
		connect.WithHandlerOptions(opts...),
	)
	collectionsServiceGetCollectionTreeHandler := connect.NewUnaryHandler(
		CollectionsServiceGetCollectionTreeProcedure,
		svc.GetCollectionTree,
		connect.WithSchema(collectionsServiceMethods.ByName("GetCollectionTree")),
		connect.WithHandlerOptions(opts...),
	)
	return "/mind.v3.CollectionsService/", http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		switch r.URL.Path {
		case CollectionsServiceCreateCollectionProcedure:
			collectionsServiceCreateCollectionHandler.ServeHTTP(w, r)
		case CollectionsServiceGetCollectionProcedure:
			collectionsServiceGetCollectionHandler.ServeHTTP(w, r)
		case CollectionsServiceUpdateCollectionProcedure:
			collectionsServiceUpdateCollectionHandler.ServeHTTP(w, r)
		case CollectionsServiceDeleteCollectionProcedure:
			collectionsServiceDeleteCollectionHandler.ServeHTTP(w, r)
		case CollectionsServiceListCollectionsProcedure:
			collectionsServiceListCollectionsHandler.ServeHTTP(w, r)
		case CollectionsServiceListCollectionChildrenProcedure:
			collectionsServiceListCollectionChildrenHandler.ServeHTTP(w, r)
		case CollectionsServiceGetCollectionTreeProcedure:
			collectionsServiceGetCollectionTreeHandler.ServeHTTP(w, r)
		default:
			http.NotFound(w, r)
		}
	})
}

// UnimplementedCollectionsServiceHandler returns CodeUnimplemented from all methods.
type UnimplementedCollectionsServiceHandler struct{}

func (UnimplementedCollectionsServiceHandler) CreateCollection(context.Context, *connect.Request[v3.CreateCollectionRequest]) (*connect.Response[v3.Collection], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("mind.v3.CollectionsService.CreateCollection is not implemented"))
}

func (UnimplementedCollectionsServiceHandler) GetCollection(context.Context, *connect.Request[v3.GetCollectionRequest]) (*connect.Response[v3.Collection], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("mind.v3.CollectionsService.GetCollection is not implemented"))
}

func (UnimplementedCollectionsServiceHandler) UpdateCollection(context.Context, *connect.Request[v3.UpdateCollectionRequest]) (*connect.Response[v3.Collection], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("mind.v3.CollectionsService.UpdateCollection is not implemented"))
}

func (UnimplementedCollectionsServiceHandler) DeleteCollection(context.Context, *connect.Request[v3.DeleteCollectionRequest]) (*connect.Response[emptypb.Empty], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("mind.v3.CollectionsService.DeleteCollection is not implemented"))
}

func (UnimplementedCollectionsServiceHandler) ListCollections(context.Context, *connect.Request[v3.ListCollectionsRequest]) (*connect.Response[v3.ListCollectionsResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("mind.v3.CollectionsService.ListCollections is not implemented"))
}

func (UnimplementedCollectionsServiceHandler) ListCollectionChildren(context.Context, *connect.Request[v3.ListCollectionChildrenRequest]) (*connect.Response[v3.ListCollectionsResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("mind.v3.CollectionsService.ListCollectionChildren is not implemented"))
}

func (UnimplementedCollectionsServiceHandler) GetCollectionTree(context.Context, *connect.Request[v3.GetCollectionTreeRequest]) (*connect.Response[v3.GetCollectionTreeResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("mind.v3.CollectionsService.GetCollectionTree is not implemented"))
}
