meta {
  name: Get Note Meta
  type: http
  seq: 3
}

post {
  url: {{baseUrl}}/mind.v3.NoteMetaService/ListNoteMeta
  body: json
  auth: none
}

headers {
  Content-Type: application/json
}

body:json {
  {
    "note_id": {{noteId}}
  }
}

tests {
  test("Status is 200", function() {
    expect(res.status).to.equal(200);
  });
  
  test("Response has items array", function() {
    expect(res.body).to.have.property("items");
    expect(res.body.items).to.be.an("array");
  });
  
  test("Response has total count", function() {
    expect(res.body).to.have.property("total");
    expect(res.body.total).to.be.a("number");
  });
  
  test("Metadata items have required fields", function() {
    if (res.body.items && res.body.items.length > 0) {
      const item = res.body.items[0];
      expect(item).to.have.property("key");
      expect(item).to.have.property("value");
    }
  });
}
