# Mindweaver Environment Configuration
# Copy this file to .env.local and customize as needed
# All values shown are defaults - the application works without any .env file

# =============================================================================
# CONFIGURATION OVERVIEW
# =============================================================================
# Mindweaver uses environment variables with the MW_ prefix.
# Configuration precedence (highest to lowest):
#   1. Environment variables (MW_*)
#   2. Config file (config.yaml in data directory)
#   3. Built-in defaults
#
# For Docker/production: Use MW_DATA_DIR to set the data root
# For development: Copy this file to .env.local and customize

# =============================================================================
# Data Directory (Root for all persistent data)
# =============================================================================
# All database paths are derived from this unless explicitly overridden.
# Docker deployments should set this to /data and mount a volume.
# MW_DATA_DIR=./data

# =============================================================================
# Runtime Mode
# =============================================================================
# MW_MODE=combined              # combined, mind, or brain

# =============================================================================
# Ports
# =============================================================================
# Combined mode uses MW_PORT or falls back to MW_MIND_PORT
# MW_PORT=9421                  # Override port in combined mode
# MW_MIND_PORT=9421             # Mind service port
# MW_BRAIN_PORT=9422            # Brain service port (standalone mode)

# =============================================================================
# Database Paths
# =============================================================================
# If not set, derived from MW_DATA_DIR:
#   - mind.db_path = $MW_DATA_DIR/mind.db
#   - brain.db_path = $MW_DATA_DIR/brain.db
#   - brain.badger_db_path = $MW_DATA_DIR/badger
#
# MW_MIND_DB_PATH=              # SQLite database for notes/PKM
# MW_BRAIN_DB_PATH=             # SQLite database for AI/conversations
# MW_BRAIN_BADGER_DB_PATH=      # BadgerDB for title index (future)

# =============================================================================
# Service URLs (Standalone Mode Only)
# =============================================================================
# Only needed when running --mode=brain (Brain needs to find Mind)
# MW_BRAIN_MIND_SERVICE_URL=http://localhost:9421

# =============================================================================
# LLM Configuration (for AI features)
# =============================================================================
# Requires Ollama or compatible LLM server
# MW_BRAIN_LLM_ENDPOINT=http://localhost:11434
# MW_BRAIN_SMALL_MODEL=phi3-mini    # Fast model for routing
# MW_BRAIN_BIG_MODEL=phi4           # Powerful model for reasoning

# =============================================================================
# Logging
# =============================================================================
# MW_LOG_LEVEL=INFO             # DEBUG, INFO, WARN, ERROR
# MW_LOG_FORMAT=text            # text or json

# =============================================================================
# Security
# =============================================================================
# Set for persistent ETags across restarts
# Generate: openssl rand -hex 32
# MW_SECURITY_ETAG_SALT=

# =============================================================================
# Development Tools Configuration
# =============================================================================
# Used by Task runner, sqlc, and goose during development
# These are NOT part of the MW_ config system - they're dev tooling paths
MIND_STORE_DIR=./store/mind
BRAIN_STORE_DIR=./store/brain
MIND_INTERNAL_STORE_DIR=./internal/mind/store
BRAIN_INTERNAL_STORE_DIR=./internal/brain/store
MIND_MIGRATION_DIR=./migrations/mind
BRAIN_MIGRATION_DIR=./migrations/brain
GOOSE_DRIVER=sqlite3
AIR_CONFIG=./.air.toml
